<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhancement One — Omer Cengiz ePortfolio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="ambient"><div class="ambient-orb"></div><div class="ambient-orb"></div><div class="ambient-orb"></div></div>

  <nav class="nav">
    <div class="nav-inner">
      <a href="index.html" class="nav-logo">Omer Cengiz</a>
      <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')">&#9776;</button>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="code-review.html">Code Review</a></li>
        <li><a href="enhancement-one.html" class="active">Enhancement 1</a></li>
        <li><a href="enhancement-two.html">Enhancement 2</a></li>
        <li><a href="enhancement-three.html">Enhancement 3</a></li>
      </ul>
    </div>
  </nav>

  <main class="main">
    <header class="page-header">
      <span class="label">01 — Software Design &amp; Engineering</span>
      <h1>End-to-End Testing with Playwright</h1>
      <p>Transforming an untested application into one with comprehensive automated test coverage across both frontends.</p>
    </header>

    <div class="stats">
      <div class="stat"><span class="stat-number">54</span><span class="stat-label">E2E Tests</span></div>
      <div class="stat"><span class="stat-number">100%</span><span class="stat-label">Pass Rate</span></div>
      <div class="stat"><span class="stat-number">3</span><span class="stat-label">Test Suites</span></div>
      <div class="stat"><span class="stat-number">1</span><span class="stat-label">Bug Discovered</span></div>
    </div>

    <section class="section">
      <h2>Artifact Summary</h2>
      <p>Travlr Getaways is a MEAN stack travel booking application built in CS 465 (Full Stack Development). It features a customer website built with Express and Handlebars, an Angular admin dashboard, and a REST API connected to MongoDB with JWT authentication.</p>
      <p>When the course ended, the application had no meaningful automated tests. Angular generated default test stubs during project setup, but they tested nothing. The backend had zero tests. Any code change required manually clicking through the entire application to verify nothing broke.</p>
    </section>

    <section class="section">
      <h2>The Enhancement</h2>
      <p>This enhancement added 54 end-to-end tests using Playwright, a browser automation framework developed by Microsoft. The tests simulate real user interactions — clicking buttons, filling forms, navigating pages — across both the customer site and admin dashboard.</p>
      <h3>Customer Tests</h3>
      <p>These tests verify the customer-facing website: homepage loading, trip browsing, search functionality, login and logout flows, and cart access. The tests interact with actual pages the same way a user would.</p>
      <h3>Admin Tests</h3>
      <p>These tests cover the Angular admin dashboard with full CRUD coverage: logging in, viewing the trip list, adding new trips, editing existing trips, and deleting trips. The delete tests handle the browser's native confirmation dialog using Playwright's dialog event handling.</p>
      <h3>Authentication Tests</h3>
      <p>Security-focused tests verify that protected pages cannot be accessed without logging in, that the API rejects requests without a valid JWT token, and that login error messages do not reveal whether an email address exists in the system (preventing email enumeration).</p>
    </section>

    <section class="section">
      <h2>Technical Implementation</h2>
      <ul>
        <li><strong>Separate Playwright projects</strong> configured for the customer site (port 3000) and admin SPA (port 4200)</li>
        <li><strong>Helper functions</strong> for user registration, login, and test data seeding to keep test code DRY</li>
        <li><strong>Global setup</strong> that creates test users before any test suite runs</li>
        <li><strong>beforeEach hooks</strong> so tests requiring authentication don't repeat login code</li>
        <li><strong>Conditional capture</strong> — screenshots and video recordings are only saved when tests fail, keeping normal runs fast while preserving debugging information</li>
      </ul>
      <div class="info-box">
        <p><strong>Bug Discovery:</strong> The tests uncovered a real bug in the search feature — it could not find trips even when they clearly matched the search term. Rather than patching it, this bug was systematically fixed in Enhancement Two using MongoDB text indexes.</p>
      </div>
    </section>

    <section class="section">
      <h2>Post-Merge Resolution</h2>
      <p>After all three enhancements were merged to the main branch, 14 test failures were identified and resolved. These were caused by schema changes from Enhancement Three (the new role field), pagination response format changes, and rate limiter configuration affecting test execution. Resolving these failures brought the test suite back to a 100% pass rate (54/54) and demonstrated the value of having comprehensive test coverage during integration.</p>
    </section>

    <section class="section">
      <h2>Skills &amp; Outcomes</h2>
      <div class="tags">
        <span class="tag">Playwright</span><span class="tag">E2E Testing</span><span class="tag">Browser Automation</span><span class="tag">Test Design</span><span class="tag">Security Validation</span>
      </div>
      <div class="tags" style="margin-top: 0.5rem;">
        <span class="tag tag--outcome">Outcome 3 — Design &amp; Evaluate Solutions</span>
        <span class="tag tag--outcome">Outcome 4 — Tools &amp; Techniques</span>
        <span class="tag tag--outcome">Outcome 5 — Security Mindset</span>
      </div>
      <p style="margin-top: 1rem;"><strong>Outcome 3:</strong> Choosing E2E testing over unit testing was a deliberate design decision. With two separate frontends hitting the same API, E2E tests catch integration problems that unit tests would miss.</p>
      <p><strong>Outcome 4:</strong> Playwright is an industry-standard tool used by companies like Microsoft and Google. The implementation uses professional testing patterns including helper functions, global setup, and proper assertion strategies.</p>
      <p><strong>Outcome 5:</strong> The authentication tests specifically verify security controls — API rejection without tokens, protected route enforcement, and login error message safety.</p>
    </section>

    <div style="margin-top: 2rem;">
      <a href="https://github.com/omerfarukcengizzzz/CS-499" target="_blank" class="btn btn-primary">View Code on GitHub</a>
      <a href="enhancement-one-narrative.docx" class="btn btn-outline" style="margin-left: 0.75rem;">Download Narrative</a>
      <a href="enhancement-two.html" class="btn btn-outline" style="margin-left: 0.75rem;">Next: Enhancement Two &rarr;</a>
    </div>

    <footer class="footer">
      <p>Omer Cengiz &mdash; CS 499 Computer Science Capstone &mdash; Southern New Hampshire University</p>
      <p style="margin-top: 0.5rem;"><a href="https://github.com/omerfarukcengizzzz" target="_blank">GitHub</a></p>
    </footer>
  </main>
</body>
</html>
